language: ruby
rvm:
  - 2.6.3

before_script:
 - chmod +x ./script/cibuild # or do this locally and commit

# Assume bundler is being used, therefore
# the `install` step will run `bundle install` by default.
script: ./script/cibuild

# branch whitelist, only for GitHub Pages
branches:
  only:
  - gh-pages     # test the gh-pages branch
  - /pages-(.*)/ # test every branch which starts with "pages-"

addons:
  apt:
    packages:
    - libcurl4-openssl-dev

cache: bundler # caching bundler gem packages will speed up build

# Optional: disable email notifications about the outcome of your builds
notifications:
  email: false

exclude: [vendor]

deploy:
  provider: pages
  tags: true
  skip_cleanup: true
  github_token: "$Github_token"
  keep_history: true
  true:
    all_branches: true
    branch: master
env:
  global:
    secure: rU/7YJV59gcFbwcs+I0w3gJv58B0+b2Tw3LVRiJnsshfl3HenLFqR+n8sWa2qOfTw8iBq0ee2YdHJCsiZc4MlI69jxhTHEsJzVYx/SYhGXiQUO/amAMNmBtFjhAZo8S0R6CCTYuMf+FWxsKmA2RPdsHmM9eUIbiwC0ZHyyECHb+S7CVSwMlVW55YVRIStIsL/0/XagALjy7TWfmEYUzw0dKaqH6wll/8nX7GTwcZ1smx3LgdJcQoJ4xhUhQdKCCiisDuvvgS6/+4X2HTGnEqw6/rq3vifE/GrDpW/stMj1EiYx/hvsTP/I3eHX6h92ugb2JZ+t7u1m63g0VZEKJ4VCdhhErq/9EYwl9np2HvURx2U058oqQzothxoboYcCSSUS9yzyU8E7SXBnTLht+tCKyCE41o722t4fDdLQuaWym/OEQTsz6zDmPzUSBdy/JczwFFk2MKqEoxuPTjggRhj/Lf6AiQABnDZau/qw39DddxnKplJUM5gjWgDZEChQKr0iHo8iR0WHr5/HtY6wYxLkcjUrY4SUGe6zzL6i/KJDVDAGP7uOetBZDRpKDfFfwaVM+SBsjC0kpqt9vMUOy7+Cyd4XJjBsaR++nitH4H4LgR+tHmGAYUgQO2Hj9uzpSkiAIq+ZBFBAT+VFStohSxRRAzqvBGKbyz3V4obN8LMI0=
